
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Python Script Manager &#8212; Cinema 4D SDK 21.207 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tips to switch from C.O.F.F.E.E to Python" href="../manual_coffee_to_python.html" />
    <link rel="prev" title="Python Console" href="python_console.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../manual_coffee_to_python.html" title="Tips to switch from C.O.F.F.E.E to Python"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="python_console.html" title="Python Console"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Cinema 4D SDK 21.207 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Manual List</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="python-script-manager">
<span id="manual-python-script-manager"></span><h1>Python Script Manager<a class="headerlink" href="#python-script-manager" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Script Manager can be found in the Script Menu -&gt;  Script Manager.</p>
<img alt="../../_images/python_script_manager_menu.jpg" src="../../_images/python_script_manager_menu.jpg" />
<p>In the Script Manager, Python code can be written, executed, saved, imported, exported.</p>
<p>By default, there is no script loaded in the Script manager. To create a new script go to <em>File</em> Menu -&gt; <em>New</em>.
This will create a new script with a default code.</p>
<p>Since scripts are not automatically saved, it’s mandatory to either press <em>CTRL+S</em> (Windows) or <em>CMD+S</em> (Mac Os) while the Script Manager Dialog is the active one.
It’s also possible to save through the <em>File</em> Menu -&gt; <em>Save</em> of the Script Manager.</p>
<p>All saved or imported script will be located in {C4D_PREF_FOLDER}\library\scripts\ folder. If a file is not saved a * will be present at the end of the filename within the drop-down list.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">{C4D_PREF_FOLDER} can be found by opening Cinema 4D Preference (CTRL+E) and by clicking into the button “Open Preference Folder…” in the bottom of the dialog.</p>
</div>
<p>On Windows, a local or a network path containing other scripts that will be load on startup can be defined.
Sets an Environment Variable named {C4D_SCRIPTS_DIR} and defines the path like c:\my_c4d_scripts</p>
<p>The Script Manager can also be used to retrieve Symbol ID for Parameters. See <a class="reference internal" href="#manual-python-script-manager-dragdrop"><span class="std std-ref">Drag And Drop</span></a>.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="code-execution">
<h3>Code Execution<a class="headerlink" href="#code-execution" title="Permalink to this headline">¶</a></h3>
<p>The code run from the Script Manager is executed in Cinema 4D main thread. This means that if an infinite loop takes place, Cinema 4D will hang as well. See <a class="reference internal" href="../application_development/threading.html#threading-information"><span class="std std-ref">Threading Information</span></a>.</p>
<p>It’s possible to Execute code by pressing the Execute button in the bottom of the Script Manager or by transforming the Script into a Button. See <a class="reference internal" href="#manual-python-script-manager-button"><span class="std std-ref">Button</span></a>.</p>
<p>By click on the <em>Shortcut…</em> button it’s possible to assign a shortcut to the script. Each time the shortcut is pressed the script will be executed.</p>
<div class="section" id="variables">
<h4>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Next variables are pre-defined in the Script Manager:</dt>
<dd><ul class="first last simple">
<li><cite>doc</cite>: <a class="reference internal" href="../../modules/c4d.documents/BaseDocument/index.html#c4d.documents.BaseDocument" title="c4d.documents.BaseDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDocument</span></code></a> : The current active document. Similar to <a class="reference internal" href="../../modules/c4d.documents/index.html#c4d.documents.GetActiveDocument" title="c4d.documents.GetActiveDocument"><code class="xref py py-meth docutils literal notranslate"><span class="pre">c4d.documents.GetActiveDocument()</span></code></a>.</li>
<li><cite>op</cite>: <a class="reference internal" href="../../modules/c4d/C4DAtom/GeListNode/BaseList2D/BaseTag/index.html#c4d.BaseTag" title="c4d.BaseTag"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseObject</span></code></a> : The current active object. Can be None if no object is selected. Similar to <a class="reference internal" href="../../modules/c4d.documents/BaseDocument/index.html#BaseDocument.GetActiveObject" title="BaseDocument.GetActiveObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BaseDocument.GetActiveObject()</span></code></a></li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="button">
<span id="manual-python-script-manager-button"></span><h3>Button<a class="headerlink" href="#button" title="Permalink to this headline">¶</a></h3>
<p>It’s possible to transform a script into a button by drag and dropping the script icon to somewhere in the UI.</p>
<img alt="../../_images/python_script_manager_button.gif" src="../../_images/python_script_manager_button.gif" />
<p>All python scripts added to the UI (a button or a menu entry) give the chance to be edited by left-clicking on it and selecting the <em>Edit Script</em> command.</p>
<p>If your script is mainly used as a button, since R20 a function called <cite>state</cite> can be defined to retrieve if the button should be enabled, disabled or checked.</p>
<dl class="docutils">
<dt>The <em>state</em> function can be something like that and expect to return a boolean value or these constants:</dt>
<dd><ul class="first last simple">
<li><strong>True</strong>: Enable the button, similar to <strong>CMD_ENABLED</strong>.</li>
<li><strong>False</strong>: Disable the button.</li>
<li><strong>CMD_ENABLED</strong>: Enable the button, similar to <strong>True</strong>.</li>
<li><strong>CMD_VALUE</strong>: Check the button.</li>
</ul>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">state</span><span class="p">():</span>
    <span class="c1"># Check if an object is selected.</span>
    <span class="k">if</span> <span class="n">op</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">c4d</span><span class="o">.</span><span class="n">CMD_ENABLED</span> <span class="o">|</span> <span class="n">c4d</span><span class="o">.</span><span class="n">CMD_VALUE</span>

    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <em>state</em> function is called in each UI redraws (multiple time per second), which is executed in the c4d main thread. So try to avoid as much as possible any time-consuming operation to not freeze Cinema 4D.</p>
</div>
</div>
<div class="section" id="customization">
<h3>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h3>
<p>All scripts loaded in the Script Manager get a default python icon, it’s possible to change this icon with a custom picture from the menu <em>File</em> -&gt; <em>Load Icon…</em>.</p>
<p>The name and the description of a script can be changed with the following header comments (FileName will not be changed only display name).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Name-en-US: This is A Custom Name</span>
<span class="sd">Description-en-US: This is how to use the script</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="drag-and-drop">
<span id="manual-python-script-manager-dragdrop"></span><h3>Drag And Drop<a class="headerlink" href="#drag-and-drop" title="Permalink to this headline">¶</a></h3>
<div class="section" id="parameter">
<h4>Parameter<a class="headerlink" href="#parameter" title="Permalink to this headline">¶</a></h4>
<p>All parameters can be dragged to the Script Manager. It allows to set/get parameter. It can also be used to know the symbol of a parameter.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last line-block">
<div class="line">When an object, tag, shader, or even a parameter is dragged and dropped into the script manager, a place holder variable named as the element is created.</div>
<div class="line">Since this variable is assigned to nothing in the current scope of the Script Manager, it’s most likely that the variable need to be renamed or assigned to a valid BaseList2D before in your code.</div>
</div>
</div>
<p>If the Size.X parameter of a cube is dragged into the console, the following text will be printed:</p>
<p>« Cube[c4d.PRIM_CUBE_LEN,c4d.VECTOR_X] »</p>
<ol class="arabic simple">
<li>‘Cube’ is a variable, named as the object it’s refer to. The object is the host of the parameter. This means that if <cite>[c4d.PRIM_CUBE_LEN,c4d.VECTOR_X]</cite> is removed, writing Cube.GetName() it will returns the name of the object.</li>
<li><dl class="first docutils">
<dt>‘[c4d.PRIM_CUBE_LEN,c4d.VECTOR_X]’ can be splitted in multiple parts:</dt>
<dd><ol class="first last arabic">
<li>[] redirect to <a class="reference internal" href="../../modules/c4d/C4DAtom/index.html#C4DAtom.GetParameter" title="C4DAtom.GetParameter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GetParameter</span></code></a> or <a class="reference internal" href="../../modules/c4d/C4DAtom/index.html#C4DAtom.SetParameter" title="C4DAtom.SetParameter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetParameter</span></code></a> of an object according to the context.</li>
<li>c4d.PRIM_CUBE_LEN, is the symbol corresponding to the Size parameter.</li>
<li>c4d.VECTOR_X, is the symbols corresponding to the X parameter of the Size Parameter.</li>
</ol>
</dd>
</dl>
</li>
</ol>
<p>It’s possible to edit the parameter value with this code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Cube</span><span class="p">[</span><span class="n">c4d</span><span class="o">.</span><span class="n">PRIM_CUBE_LEN</span><span class="p">,</span><span class="n">c4d</span><span class="o">.</span><span class="n">VECTOR_X</span><span class="p">]</span> <span class="o">=</span> <span class="mf">50.0</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Python Script Manager</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#features">Features</a><ul>
<li><a class="reference internal" href="#code-execution">Code Execution</a><ul>
<li><a class="reference internal" href="#variables">Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#button">Button</a></li>
<li><a class="reference internal" href="#customization">Customization</a></li>
<li><a class="reference internal" href="#drag-and-drop">Drag And Drop</a><ul>
<li><a class="reference internal" href="#parameter">Parameter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick Search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%;text-align: center;">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../manual_coffee_to_python.html" title="Tips to switch from C.O.F.F.E.E to Python"
             >next</a> |</li>
        <li class="right" >
          <a href="python_console.html" title="Python Console"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Cinema 4D SDK 21.207 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Manual List</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Maxon.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>